!function(e){"use strict";function t(e,t){var n="";return e.indexOf("-")>-1&&(e=e.replace("-",""),n="-"),e.indexOf(t.prefix)>-1&&(e=e.replace(t.prefix,"")),e.indexOf(t.suffix)>-1&&(e=e.replace(t.suffix,"")),n+t.prefix+e+t.suffix}function n(e,t){return t.allowEmpty&&""===e?"":t.reverse?r(e,t):a(e,t)}function a(e,n){var a,r,o,s=e.indexOf("-")>-1&&n.allowNegative?"-":"",l=e.replace(/[^0-9]/g,""),c=l.slice(0,l.length-n.precision);return a=i(c,s,n),n.precision>0&&(r=l.slice(l.length-n.precision),o=new Array(n.precision+1-r.length).join(0),a+=n.decimal+o+r),t(a,n)}function r(e,n){var a,r=e.indexOf("-")>-1&&n.allowNegative?"-":"",o=e.replace(n.prefix,"").replace(n.suffix,""),s=o.split(n.decimal)[0],l="";if(""===s&&(s="0"),a=i(s,r,n),n.precision>0){var c=o.split(n.decimal);c.length>1&&(l=c[1]),a+=n.decimal+l;var u=Number.parseFloat(s+"."+l).toFixed(n.precision),d=u.toString().split(n.decimal)[1];a=a.split(n.decimal)[0]+"."+d}return t(a,n)}function i(e,t,n){return e=e.replace(/^0*/g,""),e=e.replace(/\B(?=(\d{3})+(?!\d))/g,n.thousands),""===e&&(e="0"),t+e}e.browser||(e.browser={},e.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),e.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),e.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),e.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()),e.browser.device=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var o={prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",precision:2,allowZero:!1,allowNegative:!1,doubleClickSelection:!0,allowEmpty:!1,bringCaretAtEndOnFocus:!0},s={destroy:function(){return e(this).unbind(".maskMoney"),e.browser.msie&&(this.onpaste=null),this},applyMask:function(t){return n(t,e(this).data("settings"))},mask:function(t){return this.each(function(){var n=e(this);return"number"==typeof t&&n.val(t),n.trigger("mask")})},unmasked:function(){return this.map(function(){var t,n=e(this).val()||"0",a=-1!==n.indexOf("-");return e(n.split(/\D/).reverse()).each(function(e,n){if(n)return t=n,!1}),n=n.replace(/\D/g,""),0!=e(this).data("settings").precision&&(n=n.replace(new RegExp(t+"$"),"."+t)),a&&(n="-"+n),parseFloat(n)})},unmaskedWithOptions:function(){return this.map(function(){var t=e(this).val()||"0",n=e(this).data("settings")||o,a=new RegExp(n.thousandsForUnmasked||n.thousands,"g");return t=t.replace(a,""),parseFloat(t)})},init:function(a){return a=e.extend(e.extend({},o),a),this.each(function(){function r(){var e,t,n,a,r,i=O.get(0),o=0,s=0;return"number"==typeof i.selectionStart&&"number"==typeof i.selectionEnd?(o=i.selectionStart,s=i.selectionEnd):(t=document.selection.createRange())&&t.parentElement()===i&&(a=i.value.length,e=i.value.replace(/\r\n/g,"\n"),n=i.createTextRange(),n.moveToBookmark(t.getBookmark()),r=i.createTextRange(),r.collapse(!1),n.compareEndPoints("StartToEnd",r)>-1?o=s=a:(o=-n.moveStart("character",-a),o+=e.slice(0,o).split("\n").length-1,n.compareEndPoints("EndToEnd",r)>-1?s=a:(s=-n.moveEnd("character",-a),s+=e.slice(0,s).split("\n").length-1))),{start:o,end:s}}function i(){var e=!(O.val().length>=O.attr("maxlength")&&O.attr("maxlength")>=0),t=r(),n=t.start,a=t.end,i=!(t.start===t.end||!O.val().substring(n,a).match(/\d/)),o="0"===O.val().substring(0,1);return e||i||o}function o(e){E.formatOnBlur||O.each(function(t,n){if(n.setSelectionRange)n.focus(),n.setSelectionRange(e,e);else if(n.createTextRange){var a=n.createTextRange();a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select()}})}function s(e){var t,a=O.val().length;O.val(n(O.val(),E)),t=O.val().length,E.reverse||(e-=a-t),o(e)}function l(){var e=O.val();if(!E.allowEmpty||""!==e){var t=e.indexOf(E.decimal);if(E.precision>0)if(t<0)e+=E.decimal+new Array(E.precision+1).join(0);else{var a=e.slice(0,t),r=e.slice(t+1);e=a+E.decimal+r+new Array(E.precision+1-r.length).join(0)}else t>0&&(e=e.slice(0,t));O.val(n(e,E))}}function c(){var e=O.val();return E.allowNegative?""!==e&&"-"===e.charAt(0)?e.replace("-",""):"-"+e:e}function u(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function d(e){e=e||window.event;var t=e.which||e.charCode||e.keyCode,n=E.decimal.charCodeAt(0);return void 0!==t&&(!(t<48||t>57)||t===n&&E.reverse?!!i()&&((t!==n||!f())&&(!!E.formatOnBlur||(u(e),g(e),!1))):m(t,e))}function f(){return!v()&&p()}function v(){var e=O.val().length,t=r();return 0===t.start&&t.end===e}function p(){return O.val().indexOf(E.decimal)>-1}function g(e){e=e||window.event;var t,n,a,i,o=e.which||e.charCode||e.keyCode,l="";o>=48&&o<=57&&(l=String.fromCharCode(o)),t=r(),n=t.start,a=t.end,i=O.val(),O.val(i.substring(0,n)+l+i.substring(a,i.length)),s(n+1)}function m(t,n){return 45===t?(O.val(c()),!1):43===t?(O.val(O.val().replace("-","")),!1):13===t||9===t||(!(!e.browser.mozilla||37!==t&&39!==t||0!==n.charCode)||(u(n),!0))}function h(e){e=e||window.event;var t,n,a,i,o,l=e.which||e.charCode||e.keyCode;return void 0!==l&&(t=r(),n=t.start,a=t.end,8!==l&&46!==l&&63272!==l||(u(e),i=O.val(),n===a&&(8===l?""===E.suffix?n-=1:(o=i.split("").reverse().join("").search(/\d/),n=i.length-o-1,a=n+1):a+=1),O.val(i.substring(0,n)+i.substring(a,i.length)),s(n),!1))}function w(){A=O.val(),l();var e,t=O.get(0);E.selectAllOnFocus?t.select():t.createTextRange&&E.bringCaretAtEndOnFocus&&(e=t.createTextRange(),e.collapse(!1),e.select())}function b(){setTimeout(function(){l()},0)}function x(){return(parseFloat("0")/Math.pow(10,E.precision)).toFixed(E.precision).replace(new RegExp("\\.","g"),E.decimal)}function y(n){if(e.browser.msie&&d(n),E.formatOnBlur&&O.val()!==A&&g(n),""===O.val()&&E.allowEmpty)O.val("");else if(""===O.val()||O.val()===t(x(),E))E.allowZero?E.affixesStay?O.val(t(x(),E)):O.val(x()):O.val("");else if(!E.affixesStay){var a=O.val().replace(E.prefix,"").replace(E.suffix,"");O.val(a)}O.val()!==A&&O.change()}function k(){var e,t=O.get(0);E.selectAllOnFocus||(t.setSelectionRange&&E.bringCaretAtEndOnFocus?(e=O.val().length,t.setSelectionRange(e,e)):O.val(O.val()))}function C(){var e,t,n=O.get(0);n.setSelectionRange&&E.bringCaretAtEndOnFocus?(t=O.val().length,e=E.doubleClickSelection?0:t,n.setSelectionRange(e,t)):O.val(O.val())}var E,A,O=e(this);E=e.extend({},a),E=e.extend(E,O.data()),O.data("settings",E),function(){e.browser.device&&O.attr("type","tel")}(),O.unbind(".maskMoney"),O.bind("keypress.maskMoney",d),O.bind("keydown.maskMoney",h),O.bind("blur.maskMoney",y),O.bind("focus.maskMoney",w),O.bind("click.maskMoney",k),O.bind("dblclick.maskMoney",C),O.bind("cut.maskMoney",b),O.bind("paste.maskMoney",b),O.bind("mask.maskMoney",l)})}};e.fn.maskMoney=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.maskMoney"):s.init.apply(this,arguments)}}(window.jQuery||window.Zepto);